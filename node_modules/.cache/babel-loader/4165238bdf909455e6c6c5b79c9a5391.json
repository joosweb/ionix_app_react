{"ast":null,"code":"import _classCallCheck from \"/Users/Mac/Desktop/ReactJS Proyects/app-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/Mac/Desktop/ReactJS Proyects/app-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/Mac/Desktop/ReactJS Proyects/app-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/Mac/Desktop/ReactJS Proyects/app-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/Mac/Desktop/ReactJS Proyects/app-login/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/Mac/Desktop/ReactJS Proyects/app-login/src/pages/Login/index.js\";\nimport React, { Component } from 'react';\nimport { Form, FormGroup, Label, Input, Button, Alert } from 'reactstrap';\nimport Header from '../../components/Header';\nimport axios from \"axios\";\n\nvar Login = /*#__PURE__*/function (_Component) {\n  _inherits(Login, _Component);\n\n  function Login(props) {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this, props));\n\n    _this.signIn = function () {\n      var data = {\n        email: _this.email,\n        password: _this.password\n      };\n      var requestInfo = {\n        method: 'POST',\n        body: JSON.stringify(data),\n        headers: new Headers({\n          'Content-Type': 'application/json'\n        })\n      };\n      fetch('http://localhost:3333/login', requestInfo).then(function (response) {\n        if (response.ok) {\n          return response.json();\n        }\n\n        throw new Error(\"Login inválido...\");\n      }).then(function (token) {\n        //console.log(token)\n        localStorage.setItem('token', token.access_token.token);\n\n        _this.props.history.push({\n          pathname: '/admin',\n          user: token.user\n        });\n\n        return;\n      }).catch(function (e) {\n        _this.setState({\n          message: e.message\n        });\n      });\n    };\n\n    _this.state = {\n      message: _this.props.location.state ? _this.props.location.state.message : ''\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"col-md-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(Header, {\n        title: \"ReactJS Login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"hr\", {\n        className: \"my-3\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 17\n        }\n      }), this.state.message !== '' ? /*#__PURE__*/React.createElement(Alert, {\n        color: \"danger\",\n        className: \"text-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 25\n        }\n      }, \" \", this.state.message, \" \") : '', /*#__PURE__*/React.createElement(Form, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"email\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 25\n        }\n      }, \"Email\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"text\",\n        id: \"email\",\n        onChange: function onChange(e) {\n          return _this2.email = e.target.value;\n        },\n        placeholder: \"Ingrese su e-mail\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(FormGroup, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(Label, {\n        for: \"password\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 25\n        }\n      }, \"Senha\"), /*#__PURE__*/React.createElement(Input, {\n        type: \"password\",\n        id: \"password\",\n        onChange: function onChange(e) {\n          return _this2.password = e.target.value;\n        },\n        placeholder: \"Ingrese su contrase\\xF1a\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 25\n        }\n      })), /*#__PURE__*/React.createElement(Button, {\n        color: \"primary\",\n        block: true,\n        onClick: this.signIn,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }\n      }, \" Entrar \")));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport { Login as default };","map":{"version":3,"sources":["/Users/Mac/Desktop/ReactJS Proyects/app-login/src/pages/Login/index.js"],"names":["React","Component","Form","FormGroup","Label","Input","Button","Alert","Header","axios","Login","props","signIn","data","email","password","requestInfo","method","body","JSON","stringify","headers","Headers","fetch","then","response","ok","json","Error","token","localStorage","setItem","access_token","history","push","pathname","user","catch","e","setState","message","state","location","target","value"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Form, FormGroup, Label, Input, Button, Alert } from 'reactstrap';\n\nimport Header from '../../components/Header';\n\nimport axios from \"axios\";\n\nexport default class Login extends Component {\n\n    constructor(props) {\n        super(props)\n        this.state = {\n            message : this.props.location.state?this.props.location.state.message: '',\n        };\n    }\n\n    signIn = () => {\n        const data = { email: this.email, password: this.password };\n        const requestInfo = {\n            method: 'POST',\n            body: JSON.stringify(data),\n            headers: new Headers({\n                'Content-Type': 'application/json',\n            }),\n        };\n\n        fetch('http://localhost:3333/login', requestInfo)\n        .then(response => {\n            if(response.ok) {\n                return response.json()\n            }\n            throw new Error(\"Login inválido...\");\n        })\n        .then(token => {\n            //console.log(token)\n            localStorage.setItem('token', token.access_token.token);\n            this.props.history.push({\n              pathname: '/admin',\n              user: token.user,\n            });\n            return;\n        })\n        .catch(e => {\n            this.setState({ message: e.message });\n        });\n    }\n\n    render() {\n        return (\n            <div className=\"col-md-6\">\n                <Header title=\"ReactJS Login\" />\n                <hr  className=\"my-3\"/>\n                {\n                    this.state.message !== ''? (\n                        <Alert color=\"danger\" className=\"text-center\"> {this.state.message} </Alert>\n                    ) : ''\n                }\n                <Form>\n                    <FormGroup>\n                        <Label for=\"email\">Email</Label>\n                        <Input type=\"text\" id=\"email\" onChange={e => this.email = e.target.value} placeholder=\"Ingrese su e-mail\" />\n                    </FormGroup>\n                    <FormGroup>\n                        <Label for=\"password\">Senha</Label>\n                        <Input type=\"password\" id=\"password\" onChange={e => this.password = e.target.value} placeholder=\"Ingrese su contraseña\" />\n                    </FormGroup>\n                    <Button color=\"primary\" block onClick={this.signIn}> Entrar </Button>\n                </Form>\n            </div>\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}